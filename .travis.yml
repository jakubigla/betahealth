language: node_js
node_js:
  - '6.4'
cache:
  directories:
    - node_modules
install:
  - bundle install
  - npm install
script:
  - npm run lint
  - npm run test:unit
  - npm run test:acceptance-ci
env:
  global:
  - HEROKU_APP_NAME=nhsbeta
  - secure: hNlLciVTx/HAYzLVSCXBLHyz7MjfgF2vy+OlyaQvRY9eB5HTrJDD+Eb50NMMOEtV0PCKvpI38UQlfEP0V7ekmhj02yoyaR28xsMrFyDNovtO5M7R523LiC7vFxeLCOHCn/OQT/rDoNPqOSiDemYfSs32ZWn72O+dPA9SEfhbXrgw3zO/V8NI7GD8YP9J1/zUxMmYIFquGyPD96q71vOzhqWYyNgIdvUMn3RpLwwc95wp+xzF5Tesum+N2EI6QdIK8VqCU9iTEmi85ldIt09leIUxb9YQyLX2lhuf+5iuvE0QOBSBl7dwVmVyWjT2Siuj3NKW1LI8ChI6nUAO9TCeQpNJki715E0518Syl13eKe2SkdrO5grClLp5I5dNIU2f/4h3jUTJNdWP14IW3IQ82j8fFvOqspQbETApOmPB/gTd5YJwNAiqDLF4+ZOIFdo22GfIWYIctu59qKnJw8XAVzZ5R7+n7xWic/eDhKcC5ydwEXprRAwNEZyqRAOY7r/E8MQ67DBpxF5t8hip/rWxJUN74Tq+VEoxrwDwSufTe72J0RueXEs+jSKib0FW8+9rLgF/Z1xoyjQ/VcpO89IvtuvT8SS9zYYrghlOWSqjHtWhgwuIraZC9i5ZaRBsqPWiqnuOTCuJ6+2l+3d3DrIu7HP/vcC0/Smx2mP2bB/UvNg=
  - secure: v3N2K0sMV0hRNSq0nMUvY7IxPOf7+vuEMf/gSD54X3dzo4JBwPFePqbLFeYQwq8Mv39mz7+G4QjfQc5RbTN4u0reCqx1rNeBJPmvBjbfLuFGuytgvY3yGVC0XJOfNDyULE132tmj2P6ctbd7hsVUMnJz6nnLk6P5rhXUUkZ+VVrFADdKBxZJj44Iv/9gWSpgSCtS4akX5DY9G2NriBcu3HaD0WnLVEpIRcc8pP0/+LgfLjHE9ihwnbQevLSb0fbIhhDIy9U+Q1lsrhN+TKKJE8AV8wffdgAiPpjzDFBv6OouuTh4D+qUBQK5BLMI0got95whlDDf0mDCc7AVa9jAkBU0wQ66qbxohPILQR/9+1nGi4pQ6Wtr4qG/CDlnZVN48xjw3iDiO09KO1jOGqtLKVvde+OMMlAiNeD3WmTkVuVsqvkqsYQ1tghZQEum5jVztWtZYfIiH1nodYdYCH7s47PqWa61OZCF1hPiPQ9cpNa+qPMbi/I900hpsUVdseYYRpDQrIz/fMWU7TIomEbzZ4/M8VMahBGbnkCHT5MgLFls1Xe74evdVU4d5WjBkL2UU4eZXocjeal6tCW96DSvpwGJvXHnxP3evKvycHWUSAFMxbcZZEWk5rmqKWhXRYn97jIavQwglh1xrQctd62YCcI0M2SZj70UBQyeE3HWHMs=
  - secure: arQ3XbKi8Kv9gs6sO26lKhwynbanYailVcuV7nGjihz3Vq1Be7YIiOKMBPYwdDoZyusCa4kxKAP2vTs18CoLi3hPlhd9Y8TxWpfXhmb/jpL+6DSw8jI6Ymvl6luJJ+yHXDuiIPsaxnsx2OzvlkZSVH5kj7XO2fgr6wR21uIHhxNnk4/QTmPic7gnDXmdFV69Lbnzut7NJY7Ey0gqs/TAC5nsU4dIAq5MSJLTmTQCyU9AKtzkI+M4hjo6zdSGOlgdvK4Zooa3XGkytMUooS/VpxJbNmbP4IfQBr00Pm4s/PK1ebvbLh7j3Lzox4fJTprXCIhFaiZ1SoneV5vwyF/xOoazPLwpPHSrVNEojyx+CS1iPiHzFQgpR+gQ1XU8eCEjAG/5Ppvvv6qFX1fm16Qbs0dkGm0pykWZ378CcNYS8FY1Cyfc1r4u6Qdp1bgW+mE8Fi3xJy2BuTZAfvqx6zqWef+/jdrk/gGPfVGXp3hTxk8TtdznAlzWYevVJxZUHQcyOiwYFEcT6ZlBhEicfYyYAUx7kQCmOiZkdSMS7I0JYZnmQWSutCTh+kyzQpsOJeS7vDoNqvMlRAyPV5uLrPLF5bjKBfGax5XePtbaYng9REYPgoQwHIIXrfGauY8sFPpKftYf8w1i1EIu5ejmkirV1MZ9LMydpklMLi0mnKYw4Sw=
notifications:
  slack:
    secure: kEsJ8hBPvDN01ul/v/dLL5uVVCUWUjVyvF18jFiaR99rgpdHiw/AM0TTIUGLkPnKee27c3AH+GaRPeVcEAT+fynR626DBlOagmPjBLfCUBu+RAeKcwCv93c1KOQ12pMkZXV1GCIRfWiTC5t0LIfxYdFjteh0uj6oNwHLeoHfTIZPpsRSsGysqKCA/pevoWmiIaJFvo0D8ErIKKbxmdj1Kc6pLj2Z5l0Xl+mmc+3txZhWjaGynUeicsKSBRv91p5tmoear8xiBFEgJ/5c6qtjw7QYd6jC4e/zmfHPC/eQflnD2giU6VsZ0rAhlMww4G2g8Vmcp3jEjJj0qgqtJGWpEBMC4lvz7oxBumwMzAOuISLApYl76stBtlTHFlB3xvgOcekXx0Nkq0GoDeHBACGoOHjjtFL1EyUPbYdwpEmqR2EkXB0MDmwqL/chxEy45sLuEljYDg4STDGcuzYPtA+dCW0XRGmSHHZt1yYXtQM7GRXPIftQP6k6Dp1fAiHHj92xEet1Ut7eF2PjUJXW71rwXozM5/k/o17/1WMuRH2xix+Kxqexp0gYG6HDt13grmxO2jlhAk+jK3inN9r8gggKiRtqBLxfpR9SC7dYXmu5sPOfiU0zxH6R+myHjRHkJEb748313NQHwDdVuTfsyW1zz84A32Y6Gqj8Pu70aCvQ06c=
